# ุงุณุชูุดุงู ุฃุฎุทุงุก ุชุญููู ุงููููุฐุฌ ูู Cloud Run

## ุงููุดููุฉ
ุงููููุฐุฌ ูุง ูุชู ุชุญูููู ุจูุฌุงุญ ูู Cloud Runุ ููุง ูุคุฏู ุฅูู ูุดู ุงูุฎุฏูุฉ.

## ุงูุญููู ุงููุทุจูุฉ

### 1. ุชุญุณูู ุชุญููู ุงููููุฐุฌ
- โ ุฅุถุงูุฉ ูุญุต ูููููุฐุฌ ุงูููุฌูุฏ ูุณุจูุงู ูู ุงูุญุงููุฉ
- โ ุชุญุณูู ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุญููู ููุจูุฆุงุช ุงูุณุญุงุจูุฉ
- โ ุฅุถุงูุฉ timeout ุฃุทูู ูู Cloud Run
- โ ุชุญููู ุงููููุฐุฌ ูู chunks ูุชูููุฑ ุงูุฐุงูุฑุฉ

### 2. ุชุญุณูู ุฅุนุฏุงุฏุงุช TensorFlow
- โ ุฅุนุฏุงุฏุงุช ูุญุณูุฉ ูู Cloud Run (CPU-only)
- โ ุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ
- โ ุชุนุทูู ุงูุชุญุณููุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ

### 3. ุชุญุณูู ุฅุนุฏุงุฏุงุช Cloud Run
- โ ุฒูุงุฏุฉ ุงูุฐุงูุฑุฉ ุฅูู 4GB
- โ ุฒูุงุฏุฉ timeout ุฅูู 15 ุฏูููุฉ
- โ ุฅุถุงูุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ

### 4. ุฅุถุงูุฉ ุงููููุฐุฌ ุฅูู Docker Image
- โ ุชุถููู ุงููููุฐุฌ ูู ุตูุฑุฉ Docker ูุชุฌูุจ ุงูุชุญููู ูู Runtime
- โ ุฅุถุงูุฉ ูุญุต ููุชุฃูุฏ ูู ูุฌูุฏ ูููุงุช ุงููููุฐุฌ

## ุฎุทูุงุช ุงููุดุฑ ุงููุญุณูุฉ

### 1. ุชุญุถูุฑ ุงููููุฐุฌ
```bash
# ุงููููุฐุฌ ุณูุชู ุชุญูููู ุชููุงุฆูุงู ุฃุซูุงุก ุจูุงุก ุตูุฑุฉ Docker
# ูุง ุญุงุฌุฉ ูุชุญููู ุงููููุฐุฌ ูุญููุงู
```

### 2. ุจูุงุก ุงูุตูุฑุฉ ูุน ุงููููุฐุฌ
```bash
# ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช ุงูุฌุฏูุฏ (ุงููููุฐุฌ ุณูุชู ุชุญูููู ุชููุงุฆูุงู)
./deploy-with-model.sh

# ุฃู ุงุฎุชุจุงุฑ ุงูุจูุงุก ูุญููุงู
./test-docker-build.ps1  # Windows PowerShell
./test-docker-build.sh   # Linux/Mac
```

### 3. ุงููุดุฑ ุงููุฏูู
```bash
# ุจูุงุก ุงูุตูุฑุฉ
docker build -t gcr.io/YOUR_PROJECT_ID/traffic-light-detection .

# ุฑูุน ุงูุตูุฑุฉ
docker push gcr.io/YOUR_PROJECT_ID/traffic-light-detection

# ูุดุฑ ุงูุฎุฏูุฉ
gcloud run deploy traffic-light-detection \
  --image gcr.io/YOUR_PROJECT_ID/traffic-light-detection \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --port 8080 \
  --timeout 900 \
  --memory 4Gi \
  --cpu 2 \
  --max-instances 10
```

## ูุฑุงูุจุฉ ุงูุญุงูุฉ

### 1. ูุญุต ุตุญุฉ ุงูุฎุฏูุฉ
```bash
curl https://YOUR_SERVICE_URL/health
```

### 2. ูุญุต ุญุงูุฉ ุงููููุฐุฌ
```bash
curl https://YOUR_SERVICE_URL/status
```

### 3. ูุญุต ุงูุณุฌูุงุช
```bash
gcloud logging read "resource.type=cloud_run_revision AND resource.labels.service_name=traffic-light-detection" --limit 50
```

## ูุคุดุฑุงุช ุงููุฌุงุญ

### โ ุงููููุฐุฌ ูุญูู ุจูุฌุงุญ
```
๐ Model loaded successfully and ready for inference!
```

### โ ุงูุฎุฏูุฉ ุฌุงูุฒุฉ
```json
{
  "status": "healthy",
  "model_loaded": true,
  "message": "API is ready to process requests"
}
```

## ูุคุดุฑุงุช ุงููุดู

### โ ูุดู ุชุญููู ุงููููุฐุฌ
```
โ Model failed to load: [error message]
```

### โ ููุงุฏ ุงูุฐุงูุฑุฉ
```
Container killed due to memory limit
```

## ุญููู ุฅุถุงููุฉ

### 1. ุงุณุชุฎุฏุงู ูููุฐุฌ ุฃุตุบุฑ
ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงููุ ูููู ุงุณุชุฎุฏุงู ูููุฐุฌ ุฃุตุบุฑ:
- `ssd_mobilenet_v2_coco_2018_03_29` (ุฃุตุบุฑ)
- `ssd_inception_v2_coco_2018_01_28` (ุฃุตุบุฑ)

### 2. ุงุณุชุฎุฏุงู Cloud Functions
ููุญุงูุงุช ุงูุจุณูุทุฉุ ูููู ุงุณุชุฎุฏุงู Cloud Functions ุจุฏูุงู ูู Cloud Run.

### 3. ุงุณุชุฎุฏุงู Vertex AI
ููููุงุฐุฌ ุงููุจูุฑุฉุ ูููู ุงุณุชุฎุฏุงู Vertex AI ููุชุฏุฑูุจ ูุงูุชูุจุค.

## ูุตุงุฆุญ ูููุฉ

1. **ุชุฃูุฏ ูู ูุฌูุฏ ุงููููุฐุฌ ูู ุงูุตูุฑุฉ**: ุชุญูู ูู ุฃู ูุฌูุฏ `ssd_mobilenet_v1_coco_11_06_2017` ููุฌูุฏ
2. **ุงุณุชุฎุฏู ุฐุงูุฑุฉ ูุงููุฉ**: 4GB ุนูู ุงูุฃูู
3. **ุฑุงูุจ ุงูุณุฌูุงุช**: ุชุงุจุน ุณุฌูุงุช Cloud Run ููุนุฑูุฉ ุงูุฃุฎุทุงุก
4. **ุงุฎุชุจุฑ ูุญููุงู**: ุชุฃูุฏ ูู ุนูู ุงูุชุทุจูู ูุญููุงู ูุจู ุงููุดุฑ
5. **ุงุณุชุฎุฏู health checks**: ุฑุงูุจ ุญุงูุฉ ุงูุฎุฏูุฉ ุจุงุณุชูุฑุงุฑ